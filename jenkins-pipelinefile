pipeline {
   agent any 
   stages {
    stage ('Build')
     steps {
      sh 'printenv'
      sh 'docker build -t prashanthvkm/jenkinsdemo:""Build_ID"" .'
      }
    }

   stage ('publish') {
    steps {
       withDockerRegistry([credentialsID:"", url: ""]) {
       sh 'docker PUSH -t prashanthvkm/jenkinsdemo:""BUILD_ID""'
       }
     }
   }
 }
}
